<div class="row">
  <div class="col-xs-8 col-xs-offset-2">
    <h2 class="center">
      Réserver une oeuvre
    </h2>
  </div>
</div>

<div class="row" style="text-align: left">
  <div class="col-sm-10 col-sm-offset-1">
    <form #reserverOeuvre="ngForm">
      <!-- Champs désactivés -->
      <div class="row">
        <div class="col-xs-4">
          <label for="titreOeuvrevente">
            Titre de l'œuvre :
          </label>
        </div>
        <div class="col-xs-8">
          <input class="form-control" type="text" name="titreOeuvrevente" id="titreOeuvrevente" readonly
                 required [(ngModel)]="reservation.reservationId.oeuvrevente.titreOeuvrevente"
                 #titreOeuvrevente="ngModel">
        </div>
      </div>

      <div class="row">
        <div class="col-xs-4">
          <label for="prixOeuvrevente">
            Prix :
          </label>
        </div>
        <div class="col-xs-8">
          <input class="form-control" type="text" name="prixOeuvrevente" id="prixOeuvrevente" readonly
                 required [(ngModel)]="reservation.reservationId.oeuvrevente.prixOeuvrevente"
                 #prixOeuvrevente="ngModel">
        </div>
      </div>

      <div class="row">
        <div class="col-xs-4">
          <label for="dateReservation">
            Date Réservation :
          </label>
        </div>
        <div class="col-xs-8">
          <input class="form-control" type="date" name="dateReservation" id="dateReservation"
                 required [(ngModel)]="reservation.dateReservation" #dateReservation="ngModel">
          <div [hidden]="dateReservation.valid || dateReservation.pristine"
               class="alert alert-danger">
            La date de la réservation est requise.
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-4">
          <label for="adherent">
            Adhérent :
          </label>
        </div>
        <div class="col-xs-8">
          <select class="form-control" name="adherent" id="adherent" required
                  [(ngModel)]="reservation.reservationId.adherent" #adherent="ngModel">
            <option *ngFor="let adherent of adherents" [ngValue]="adherent">
              {{adherent.prenomAdherent}} {{adherent.nomAdherent}}
            </option>
          </select>
          <div [hidden]="adherent.valid || adherent.pristine"
               class="alert alert-danger">
            L'adhérent de la réservation est requis.
          </div>
        </div>
      </div>

      <br/>

      <div class="row">
        <div class="col-xs-4 col-xs-offset-1">
          <!-- Boutons Ajouter -->
          <button class="btn btn-info btn-lg" type="submit" [disabled]="!reserverOeuvre.form.valid"
                  (click)="bookOeuvre();">Réserver
          </button>
        </div>
        <div class="col-xs-4 col-xs-offset-2">
          <a class="btn btn-light btn-lg" routerLink="/listerOeuvre">Annuler</a>
        </div>
      </div>
    </form>
    <div class="alert" [hidden]="result.status === '' && result.message === ''"
         [ngClass]="{'alert-success': result.status === 'success', 'alert-danger': result.status === 'error'}">
      {{result.message}}
    </div>
  </div>
</div>
